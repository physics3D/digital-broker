import{w as Ge,S as ee,i as te,s as le,e as k,a as g,b as d,l as K,c as re,d as y,f as Oe,g as $,h as r,u as qe,j as je,k as Ie,t as q,m as W,n as Q,o as X,p as Z,q as S,r as x,v as V,x as oe,y as ce,z as _e,A as J,B as ke,C as Te,D as be,E as de,F as ye,G as ue,H as fe}from"./vendor.e83506be.js";const We=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&l(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}};We();function ge(t){return{description:t.name,symbol:t.symbol,displaySymbol:t.symbol,type:"Common Stock"}}function ne(t){return parseFloat(t.toFixed(2))}function se(t){return t<0?"":"+"}function ie(t){return t<0?"text-red":"text-green"}let Ee="c5itmc2ad3ifq3te92jg",Fe="https://finnhub.io/api/v1/",Ue="%231db954",He="%23222222",Ve="white";function he(t){return"https://widget.finnhub.io/widgets/stocks/chart?symbol="+t+"&watermarkColor="+Ue+"&backgroundColor="+He+"&textColor="+Ve}function Ce(t){let e=Fe+t+"&token="+Ee;return fetch(e).then(n=>n.json())}function Ke(){return Ce("stock/symbol?exchange=US")}function ae(t){return Ce("quote?symbol="+t).then(e=>e.c)}let z;function Re(){z=Ge(JSON.parse(localStorage.getItem("gameState"))||{gameStarted:!1,money:0,stocks:[]}),z.subscribe(e=>{localStorage.setItem("gameState",JSON.stringify(e))});let t;z.subscribe(e=>t=e),setInterval(()=>{let e=t;e.stocks.forEach(n=>{ae(n.symbol).then(l=>n.currentPrice=l)}),z.set(e)},6e4)}function we(t){let e,n,l;return{c(){e=k("button"),e.textContent="x",g(e,"class","bg-white shadow-none border-none p-0 ml-auto active:bg-white")},m(o,s){d(o,e,s),n||(l=K(e,"click",function(){re(t[1])&&t[1].apply(this,arguments)}),n=!0)},p(o,s){t=o},d(o){o&&y(e),n=!1,l()}}}function Ye(t){let e,n,l,o,s,u,i=t[0]&&we(t);const f=t[4].default,a=Oe(f,t,t[3],null);return{c(){e=k("div"),n=k("div"),i&&i.c(),l=$(),a&&a.c(),g(n,"class","bg-opacity-100 bg-white card flex flex-col w-11/12 h-5/6"),g(e,"class","fixed w-full h-full left-0 top-0 bg-opacity-75 bg-black flex justify-center items-center")},m(c,p){d(c,e,p),r(e,n),i&&i.m(n,null),r(n,l),a&&a.m(n,null),o=!0,s||(u=K(window,"keydown",t[2]),s=!0)},p(c,[p]){c[0]?i?i.p(c,p):(i=we(c),i.c(),i.m(n,l)):i&&(i.d(1),i=null),a&&a.p&&(!o||p&8)&&qe(a,f,c,c[3],o?Ie(f,c[3],p,null):je(c[3]),null)},i(c){o||(q(a,c),o=!0)},o(c){W(a,c),o=!1},d(c){c&&y(e),i&&i.d(),a&&a.d(c),s=!1,u()}}}function Je(t,e,n){let{$$slots:l={},$$scope:o}=e,{closeable:s=!0}=e,{onClose:u=()=>{}}=e;function i(f){f.key==="Escape"&&u()}return t.$$set=f=>{"closeable"in f&&n(0,s=f.closeable),"onClose"in f&&n(1,u=f.onClose),"$$scope"in f&&n(3,o=f.$$scope)},[s,u,i,o,l]}class me extends ee{constructor(e){super();te(this,e,Je,Ye,le,{closeable:0,onClose:1})}}function Se(t){let e;return{c(){e=k("p"),e.textContent="You don't have enough money to buy so many stocks."},m(n,l){d(n,e,l)},d(n){n&&y(e)}}}function ze(t){let e,n=t[0].description+"",l,o,s,u,i,f,a,c,p,m,b,_,v,B,P,F,L,R,U,G,Y,N,E,I,D,O,h,j,A=t[7]&&Se();return{c(){e=k("h2"),l=S(n),o=$(),s=k("h2"),u=S("Current price: "),i=S(t[3]),f=S("$"),a=$(),A&&A.c(),c=$(),p=k("input"),b=$(),_=k("input"),B=$(),P=k("p"),F=S("Total cost: "),L=S(t[5]),R=S("$"),U=$(),G=k("p"),Y=S("Money left after the purchase: "),N=S(t[6]),E=S("$"),I=$(),D=k("button"),O=S("Buy"),g(p,"type","range"),g(p,"min","1"),g(p,"max",m=Math.floor(t[2].money/t[3])),g(_,"type","number"),g(_,"min","1"),g(_,"max",v=Math.floor(t[2].money/t[3])),D.disabled=t[7]},m(C,M){d(C,e,M),r(e,l),d(C,o,M),d(C,s,M),r(s,u),r(s,i),r(s,f),d(C,a,M),A&&A.m(C,M),d(C,c,M),d(C,p,M),x(p,t[4]),d(C,b,M),d(C,_,M),x(_,t[4]),d(C,B,M),d(C,P,M),r(P,F),r(P,L),r(P,R),d(C,U,M),d(C,G,M),r(G,Y),r(G,N),r(G,E),d(C,I,M),d(C,D,M),r(D,O),h||(j=[K(p,"change",t[9]),K(p,"input",t[9]),K(_,"input",t[10]),K(D,"click",t[8])],h=!0)},p(C,M){M&1&&n!==(n=C[0].description+"")&&V(l,n),M&8&&V(i,C[3]),C[7]?A||(A=Se(),A.c(),A.m(c.parentNode,c)):A&&(A.d(1),A=null),M&12&&m!==(m=Math.floor(C[2].money/C[3]))&&g(p,"max",m),M&16&&x(p,C[4]),M&12&&v!==(v=Math.floor(C[2].money/C[3]))&&g(_,"max",v),M&16&&oe(_.value)!==C[4]&&x(_,C[4]),M&32&&V(L,C[5]),M&64&&V(N,C[6]),M&128&&(D.disabled=C[7])},d(C){C&&y(e),C&&y(o),C&&y(s),C&&y(a),A&&A.d(C),C&&y(c),C&&y(p),C&&y(b),C&&y(_),C&&y(B),C&&y(P),C&&y(U),C&&y(G),C&&y(I),C&&y(D),h=!1,ce(j)}}}function Qe(t){let e,n;return e=new me({props:{closeable:!0,onClose:t[1],$$slots:{default:[ze]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(l,o){X(e,l,o),n=!0},p(l,[o]){const s={};o&2&&(s.onClose=l[1]),o&2301&&(s.$$scope={dirty:o,ctx:l}),e.$set(s)},i(l){n||(q(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){Z(e,l)}}}function Xe(t,e,n){let{stock:l}=e,{onBuyClose:o}=e,s;z.subscribe(_=>n(2,s=_));let u;ae(l.symbol).then(_=>n(3,u=_));let i=1,f,a,c;function p(){let _=s;_.money=ne(_.money-f),_.stocks.push({symbol:l.symbol,name:l.description,priceAtBuy:u,currentPrice:u,count:i}),z.set(_),o()}function m(){i=oe(this.value),n(4,i)}function b(){i=oe(this.value),n(4,i)}return t.$$set=_=>{"stock"in _&&n(0,l=_.stock),"onBuyClose"in _&&n(1,o=_.onBuyClose)},t.$$.update=()=>{t.$$.dirty&60&&(n(5,f=ne(i*u)),n(6,a=ne(s.money-f)),n(7,c=f>s.money))},[l,o,s,u,i,f,a,c,p,m,b]}class Ze extends ee{constructor(e){super();te(this,e,Xe,Qe,le,{stock:0,onBuyClose:1})}}function xe(t){let e,n,l,o,s,u,i;return{c(){e=k("div"),n=k("p"),n.textContent="Loading price widget...",l=$(),o=k("iframe"),g(o,"title",t[0]),_e(o.src,s=he(t[0]))||g(o,"src",s),g(o,"frameborder","0"),g(o,"class","flex-grow"),g(e,"class","flex flex-grow")},m(f,a){d(f,e,a),r(e,n),t[4](n),r(e,l),r(e,o),t[5](o),u||(i=K(o,"load",t[3]),u=!0)},p(f,[a]){a&1&&g(o,"title",f[0]),a&1&&!_e(o.src,s=he(f[0]))&&g(o,"src",s)},i:J,o:J,d(f){f&&y(e),t[4](null),t[5](null),u=!1,i()}}}function et(t,e,n){let{symbol:l}=e,o,s;function u(){n(2,s.style.display="none",s)}function i(a){ke[a?"unshift":"push"](()=>{s=a,n(2,s)})}function f(a){ke[a?"unshift":"push"](()=>{o=a,n(1,o)})}return t.$$set=a=>{"symbol"in a&&n(0,l=a.symbol)},[l,o,s,u,i,f]}class ve extends ee{constructor(e){super();te(this,e,et,xe,le,{symbol:0})}}function tt(t){let e,n=t[0].description+"",l,o,s,u,i,f,a,c,p,m,b,_,v;return s=new ve({props:{symbol:t[0].symbol}}),{c(){e=k("h2"),l=S(n),o=$(),Q(s.$$.fragment),u=$(),i=k("h2"),f=S("Current price: "),a=S(t[3]),c=S("$"),p=$(),m=k("button"),m.textContent="Buy"},m(B,P){d(B,e,P),r(e,l),d(B,o,P),X(s,B,P),d(B,u,P),d(B,i,P),r(i,f),r(i,a),r(i,c),d(B,p,P),d(B,m,P),b=!0,_||(v=K(m,"click",function(){re(t[1])&&t[1].apply(this,arguments)}),_=!0)},p(B,P){t=B,(!b||P&1)&&n!==(n=t[0].description+"")&&V(l,n);const F={};P&1&&(F.symbol=t[0].symbol),s.$set(F),(!b||P&8)&&V(a,t[3])},i(B){b||(q(s.$$.fragment,B),b=!0)},o(B){W(s.$$.fragment,B),b=!1},d(B){B&&y(e),B&&y(o),Z(s,B),B&&y(u),B&&y(i),B&&y(p),B&&y(m),_=!1,v()}}}function lt(t){let e,n;return e=new me({props:{closeable:!0,onClose:t[2],$$slots:{default:[tt]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(l,o){X(e,l,o),n=!0},p(l,[o]){const s={};o&4&&(s.onClose=l[2]),o&27&&(s.$$scope={dirty:o,ctx:l}),e.$set(s)},i(l){n||(q(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){Z(e,l)}}}function nt(t,e,n){let{stock:l}=e,{onClickBuy:o}=e,{onDetailClose:s}=e,u;return ae(l.symbol).then(i=>n(3,u=i)),t.$$set=i=>{"stock"in i&&n(0,l=i.stock),"onClickBuy"in i&&n(1,o=i.onClickBuy),"onDetailClose"in i&&n(2,s=i.onDetailClose)},[l,o,s,u]}class ot extends ee{constructor(e){super();te(this,e,nt,lt,le,{stock:0,onClickBuy:1,onDetailClose:2})}}function $e(t,e,n){const l=t.slice();return l[6]=e[n],l}function st(t){let e;return{c(){e=k("p"),e.textContent="Failed. Please check your internet connection."},m(n,l){d(n,e,l)},d(n){n&&y(e)}}}function it(t){return{c:J,m:J,d:J}}function ut(t){let e;return{c(){e=k("p"),e.textContent="Downloading a list of available stocks..."},m(n,l){d(n,e,l)},d(n){n&&y(e)}}}function Be(t){let e,n,l,o=t[6].description+"",s,u,i=t[6].symbol+"",f,a,c,p,m;return{c(){e=k("tr"),n=k("td"),l=k("button"),s=S(o),u=S(" ("),f=S(i),a=S(")"),c=$(),g(l,"class","bg-white shadow-none border-none m-auto p-0 active:bg-white")},m(b,_){d(b,e,_),r(e,n),r(n,l),r(l,s),r(l,u),r(l,f),r(l,a),r(e,c),p||(m=K(l,"click",function(){re(t[0](t[6]))&&t[0](t[6]).apply(this,arguments)}),p=!0)},p(b,_){t=b,_&4&&o!==(o=t[6].description+"")&&V(s,o),_&4&&i!==(i=t[6].symbol+"")&&V(f,i)},d(b){b&&y(e),p=!1,m()}}}function ft(t){let e,n,l,o,s,u,i,f,a,c={ctx:t,current:null,token:null,hasCatch:!0,pending:ut,then:it,catch:st};Te(t[3],c);let p=t[2],m=[];for(let b=0;b<p.length;b+=1)m[b]=Be($e(t,p,b));return{c(){e=k("div"),n=k("h2"),n.textContent="Buy stocks:",l=$(),o=k("input"),s=$(),c.block.c(),u=$(),i=k("table");for(let b=0;b<m.length;b+=1)m[b].c();g(o,"type","text"),g(o,"placeholder","Search for stocks"),g(e,"class","card")},m(b,_){d(b,e,_),r(e,n),r(e,l),r(e,o),x(o,t[1]),r(e,s),c.block.m(e,c.anchor=null),c.mount=()=>e,c.anchor=u,r(e,u),r(e,i);for(let v=0;v<m.length;v+=1)m[v].m(i,null);f||(a=K(o,"input",t[5]),f=!0)},p(b,[_]){if(t=b,_&2&&o.value!==t[1]&&x(o,t[1]),_&5){p=t[2];let v;for(v=0;v<p.length;v+=1){const B=$e(t,p,v);m[v]?m[v].p(B,_):(m[v]=Be(B),m[v].c(),m[v].m(i,null))}for(;v<m.length;v+=1)m[v].d(1);m.length=p.length}},i:J,o:J,d(b){b&&y(e),c.block.d(),c.token=null,c=null,be(m,b),f=!1,a()}}}function rt(t,e,n){let{onClickStock:l}=e,o=[],s=Ke().then(a=>{n(4,o=a)}),u="",i;function f(){u=this.value,n(1,u),n(4,o),n(2,i)}return t.$$set=a=>{"onClickStock"in a&&n(0,l=a.onClickStock)},t.$$.update=()=>{t.$$.dirty&22&&(n(1,u=u.toUpperCase()),n(2,i=o.filter(a=>a.description.startsWith(u)||a.symbol.startsWith(u))),i.length>10&&n(2,i.length=10,i))},[l,u,i,s,o,f]}class ct extends ee{constructor(e){super();te(this,e,rt,ft,le,{onClickStock:0})}}function at(t){let e,n,l=t[0].count+"",o,s,u=t[0].name+"",i,f,a,c=t[0].currentPrice+"",p,m,b,_,v,B=se(t[3])+t[3]+"",P,F,L,R,U,G=se(t[4])+t[4]+"",Y,N,E,I,D,O,h,j,A,C;return{c(){e=k("div"),n=k("p"),o=S(l),s=S("x "),i=S(u),f=$(),a=k("p"),p=S(c),m=S("$"),b=$(),_=k("div"),v=k("p"),P=S(B),F=S("$"),R=$(),U=k("p"),Y=S(G),N=S("%"),I=$(),D=k("div"),O=k("button"),O.textContent="Details",h=$(),j=k("button"),j.textContent="Sell",g(v,"class",L="m-1 p-1 "+ie(t[3])),g(U,"class",E="m-1 p-1 "+ie(t[4])),g(_,"class","flex flex-row justify-center"),g(D,"class","flex flex-row"),g(e,"class","shadow-lg border rounded-lg p-3 m-3 inline-flex flex-col items-center")},m(M,H){d(M,e,H),r(e,n),r(n,o),r(n,s),r(n,i),r(e,f),r(e,a),r(a,p),r(a,m),r(e,b),r(e,_),r(_,v),r(v,P),r(v,F),r(_,R),r(_,U),r(U,Y),r(U,N),r(e,I),r(e,D),r(D,O),r(D,h),r(D,j),A||(C=[K(O,"click",function(){re(t[2](ge(t[0])))&&t[2](ge(t[0])).apply(this,arguments)}),K(j,"click",function(){re(t[1](t[0]))&&t[1](t[0]).apply(this,arguments)})],A=!0)},p(M,[H]){t=M,H&1&&l!==(l=t[0].count+"")&&V(o,l),H&1&&u!==(u=t[0].name+"")&&V(i,u),H&1&&c!==(c=t[0].currentPrice+"")&&V(p,c),H&8&&B!==(B=se(t[3])+t[3]+"")&&V(P,B),H&8&&L!==(L="m-1 p-1 "+ie(t[3]))&&g(v,"class",L),H&16&&G!==(G=se(t[4])+t[4]+"")&&V(Y,G),H&16&&E!==(E="m-1 p-1 "+ie(t[4]))&&g(U,"class",E)},i:J,o:J,d(M){M&&y(e),A=!1,ce(C)}}}function mt(t,e,n){let{stock:l}=e,{onClickSell:o}=e,{onClickDetails:s}=e,u,i;return t.$$set=f=>{"stock"in f&&n(0,l=f.stock),"onClickSell"in f&&n(1,o=f.onClickSell),"onClickDetails"in f&&n(2,s=f.onClickDetails)},t.$$.update=()=>{t.$$.dirty&9&&(n(3,u=ne(l.currentPrice-l.priceAtBuy)),n(4,i=ne(u/l.priceAtBuy*100)))},[l,o,s,u,i]}class pt extends ee{constructor(e){super();te(this,e,mt,at,le,{stock:0,onClickSell:1,onClickDetails:2})}}function Pe(t){let e;return{c(){e=k("p"),e.textContent="You don't have so many stocks!"},m(n,l){d(n,e,l)},d(n){n&&y(e)}}}function _t(t){let e,n=t[0].name+"",l,o,s,u,i,f,a=t[0].priceAtBuy+"",c,p,m,b,_=t[0].currentPrice+"",v,B,P,F,L,R,U,G,Y,N,E,I,D,O,h,j,A,C,M;s=new ve({props:{symbol:t[0].symbol}});let H=t[4]&&Pe();return{c(){e=k("h2"),l=S(n),o=$(),Q(s.$$.fragment),u=$(),i=k("p"),f=S("Price at buy: "),c=S(a),p=$(),m=k("p"),b=S("Current price: "),v=S(_),B=S("$"),P=$(),H&&H.c(),F=$(),L=k("input"),U=$(),G=k("input"),N=$(),E=k("p"),I=S("Money after the sell: "),D=S(t[3]),O=$(),h=k("button"),j=S("Sell"),g(L,"type","range"),g(L,"min","1"),g(L,"max",R=t[0].count),g(G,"type","number"),g(G,"min","1"),g(G,"max",Y=t[0].count),h.disabled=t[4]},m(w,T){d(w,e,T),r(e,l),d(w,o,T),X(s,w,T),d(w,u,T),d(w,i,T),r(i,f),r(i,c),d(w,p,T),d(w,m,T),r(m,b),r(m,v),r(m,B),d(w,P,T),H&&H.m(w,T),d(w,F,T),d(w,L,T),x(L,t[2]),d(w,U,T),d(w,G,T),x(G,t[2]),d(w,N,T),d(w,E,T),r(E,I),r(E,D),d(w,O,T),d(w,h,T),r(h,j),A=!0,C||(M=[K(L,"change",t[7]),K(L,"input",t[7]),K(G,"input",t[8]),K(h,"click",t[5])],C=!0)},p(w,T){(!A||T&1)&&n!==(n=w[0].name+"")&&V(l,n);const pe={};T&1&&(pe.symbol=w[0].symbol),s.$set(pe),(!A||T&1)&&a!==(a=w[0].priceAtBuy+"")&&V(c,a),(!A||T&1)&&_!==(_=w[0].currentPrice+"")&&V(v,_),w[4]?H||(H=Pe(),H.c(),H.m(F.parentNode,F)):H&&(H.d(1),H=null),(!A||T&1&&R!==(R=w[0].count))&&g(L,"max",R),T&4&&x(L,w[2]),(!A||T&1&&Y!==(Y=w[0].count))&&g(G,"max",Y),T&4&&oe(G.value)!==w[2]&&x(G,w[2]),(!A||T&8)&&V(D,w[3]),(!A||T&16)&&(h.disabled=w[4])},i(w){A||(q(s.$$.fragment,w),A=!0)},o(w){W(s.$$.fragment,w),A=!1},d(w){w&&y(e),w&&y(o),Z(s,w),w&&y(u),w&&y(i),w&&y(p),w&&y(m),w&&y(P),H&&H.d(w),w&&y(F),w&&y(L),w&&y(U),w&&y(G),w&&y(N),w&&y(E),w&&y(O),w&&y(h),C=!1,ce(M)}}}function kt(t){let e,n;return e=new me({props:{closeable:!0,onClose:t[1],$$slots:{default:[_t]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(l,o){X(e,l,o),n=!0},p(l,[o]){const s={};o&2&&(s.onClose=l[1]),o&541&&(s.$$scope={dirty:o,ctx:l}),e.$set(s)},i(l){n||(q(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){Z(e,l)}}}function bt(t,e,n){let{stock:l}=e,{onSellClose:o}=e,s;z.subscribe(m=>n(6,s=m));let u=1,i,f;function a(){let m=s;m.money=ne(m.money+u*l.currentPrice),l.count===u?m.stocks.splice(m.stocks.indexOf(l),1):m.stocks[m.stocks.indexOf(l)].count-=u,z.set(m),o()}function c(){u=oe(this.value),n(2,u)}function p(){u=oe(this.value),n(2,u)}return t.$$set=m=>{"stock"in m&&n(0,l=m.stock),"onSellClose"in m&&n(1,o=m.onSellClose)},t.$$.update=()=>{t.$$.dirty&69&&(n(4,f=u>l.count),n(3,i=ne(s.money+u*l.currentPrice)))},[l,o,u,i,f,a,s,c,p]}class dt extends ee{constructor(e){super();te(this,e,bt,kt,le,{stock:0,onSellClose:1})}}function yt(t){let e,n,l,o,s,u,i,f=se(t[2])+t[2]+"",a,c,p,m,b,_=se(t[3])+t[3]+"",v,B,P,F,L,R,U=t[0].money+"",G,Y;return{c(){e=k("div"),n=k("h1"),l=S(t[1]),o=S("$"),s=$(),u=k("div"),i=k("h2"),a=S(f),c=S("$"),m=$(),b=k("h2"),v=S(_),B=S("%"),F=$(),L=k("p"),R=S("Capital: "),G=S(U),Y=S("$"),g(n,"class","text-center text-4xl font-light"),g(i,"class",p=ie(t[2])),g(b,"class",P=ie(t[3])),g(u,"class","flex flex-row justify-center"),g(L,"class","text-center text-xl font-light")},m(N,E){d(N,e,E),r(e,n),r(n,l),r(n,o),r(e,s),r(e,u),r(u,i),r(i,a),r(i,c),r(u,m),r(u,b),r(b,v),r(b,B),r(e,F),r(e,L),r(L,R),r(L,G),r(L,Y)},p(N,[E]){E&2&&V(l,N[1]),E&4&&f!==(f=se(N[2])+N[2]+"")&&V(a,f),E&4&&p!==(p=ie(N[2]))&&g(i,"class",p),E&8&&_!==(_=se(N[3])+N[3]+"")&&V(v,_),E&8&&P!==(P=ie(N[3]))&&g(b,"class",P),E&1&&U!==(U=N[0].money+"")&&V(G,U)},i:J,o:J,d(N){N&&y(e)}}}function gt(t,e,n){let l,o,s,u;return z.subscribe(i=>n(0,l=i)),t.$$.update=()=>{t.$$.dirty&7&&(n(1,o=l.money+l.stocks.map(i=>i.currentPrice*i.count).reduce((i,f)=>i+f,0)),n(1,o=ne(o)),n(2,s=ne(o-l.startMoney)),n(3,u=ne(s/l.startMoney*100)))},[l,o,s,u]}class ht extends ee{constructor(e){super();te(this,e,gt,yt,le,{})}}function De(t,e,n){const l=t.slice();return l[11]=e[n],l}function Ct(t){let e;return{c(){e=k("p"),e.textContent="You haven't bought any stocks yet."},m(n,l){d(n,e,l)},p:J,i:J,o:J,d(n){n&&y(e)}}}function wt(t){let e,n,l=t[0].stocks,o=[];for(let u=0;u<l.length;u+=1)o[u]=Me(De(t,l,u));const s=u=>W(o[u],1,1,()=>{o[u]=null});return{c(){for(let u=0;u<o.length;u+=1)o[u].c();e=de()},m(u,i){for(let f=0;f<o.length;f+=1)o[f].m(u,i);d(u,e,i),n=!0},p(u,i){if(i&545){l=u[0].stocks;let f;for(f=0;f<l.length;f+=1){const a=De(u,l,f);o[f]?(o[f].p(a,i),q(o[f],1)):(o[f]=Me(a),o[f].c(),q(o[f],1),o[f].m(e.parentNode,e))}for(ue(),f=l.length;f<o.length;f+=1)s(f);fe()}},i(u){if(!n){for(let i=0;i<l.length;i+=1)q(o[i]);n=!0}},o(u){o=o.filter(Boolean);for(let i=0;i<o.length;i+=1)W(o[i]);n=!1},d(u){be(o,u),u&&y(e)}}}function Me(t){let e,n;return e=new pt({props:{stock:t[11],onClickSell:t[9],onClickDetails:t[5]}}),{c(){Q(e.$$.fragment)},m(l,o){X(e,l,o),n=!0},p(l,o){const s={};o&1&&(s.stock=l[11]),e.$set(s)},i(l){n||(q(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){Z(e,l)}}}function Le(t){let e,n;return e=new ot({props:{stock:t[1],onClickBuy:t[6],onDetailClose:t[7]}}),{c(){Q(e.$$.fragment)},m(l,o){X(e,l,o),n=!0},p(l,o){const s={};o&2&&(s.stock=l[1]),e.$set(s)},i(l){n||(q(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){Z(e,l)}}}function Ae(t){let e,n;return e=new Ze({props:{stock:t[2],onBuyClose:t[8]}}),{c(){Q(e.$$.fragment)},m(l,o){X(e,l,o),n=!0},p(l,o){const s={};o&4&&(s.stock=l[2]),e.$set(s)},i(l){n||(q(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){Z(e,l)}}}function Ne(t){let e,n;return e=new dt({props:{stock:t[3],onSellClose:t[10]}}),{c(){Q(e.$$.fragment)},m(l,o){X(e,l,o),n=!0},p(l,o){const s={};o&8&&(s.stock=l[3]),e.$set(s)},i(l){n||(q(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){Z(e,l)}}}function St(t){let e,n,l,o,s,u,i,f,a,c,p,m,b,_,v,B,P,F,L,R,U,G;s=new ht({});const Y=[wt,Ct],N=[];function E(h,j){return h[0].stocks.length>0?0:1}c=E(t),p=N[c]=Y[c](t),b=new ct({props:{onClickStock:t[5]}});let I=t[1]!==void 0&&Le(t),D=t[2]!==void 0&&Ae(t),O=t[3]!==void 0&&Ne(t);return{c(){e=k("div"),n=k("h1"),n.textContent="Digital Broker",l=$(),o=k("div"),Q(s.$$.fragment),u=$(),i=k("h2"),i.textContent="Stocks:",f=$(),a=k("div"),p.c(),m=$(),Q(b.$$.fragment),_=$(),v=k("form"),v.innerHTML='<button type="submit">Reset the Game</button>',B=$(),I&&I.c(),P=$(),D&&D.c(),F=$(),O&&O.c(),L=de(),g(n,"class","text-center text-4xl font-light m-2"),g(a,"class","flex flex-col lg:flex-row lg:flex-wrap"),g(o,"class","card"),g(e,"class","flex flex-col items-center")},m(h,j){d(h,e,j),r(e,n),r(e,l),r(e,o),X(s,o,null),r(o,u),r(o,i),r(o,f),r(o,a),N[c].m(a,null),r(e,m),X(b,e,null),r(e,_),r(e,v),d(h,B,j),I&&I.m(h,j),d(h,P,j),D&&D.m(h,j),d(h,F,j),O&&O.m(h,j),d(h,L,j),R=!0,U||(G=K(v,"submit",ye(t[4])),U=!0)},p(h,[j]){let A=c;c=E(h),c===A?N[c].p(h,j):(ue(),W(N[A],1,1,()=>{N[A]=null}),fe(),p=N[c],p?p.p(h,j):(p=N[c]=Y[c](h),p.c()),q(p,1),p.m(a,null)),h[1]!==void 0?I?(I.p(h,j),j&2&&q(I,1)):(I=Le(h),I.c(),q(I,1),I.m(P.parentNode,P)):I&&(ue(),W(I,1,1,()=>{I=null}),fe()),h[2]!==void 0?D?(D.p(h,j),j&4&&q(D,1)):(D=Ae(h),D.c(),q(D,1),D.m(F.parentNode,F)):D&&(ue(),W(D,1,1,()=>{D=null}),fe()),h[3]!==void 0?O?(O.p(h,j),j&8&&q(O,1)):(O=Ne(h),O.c(),q(O,1),O.m(L.parentNode,L)):O&&(ue(),W(O,1,1,()=>{O=null}),fe())},i(h){R||(q(s.$$.fragment,h),q(p),q(b.$$.fragment,h),q(I),q(D),q(O),R=!0)},o(h){W(s.$$.fragment,h),W(p),W(b.$$.fragment,h),W(I),W(D),W(O),R=!1},d(h){h&&y(e),Z(s),N[c].d(),Z(b),h&&y(B),I&&I.d(h),h&&y(P),D&&D.d(h),h&&y(F),O&&O.d(h),h&&y(L),U=!1,G()}}}function vt(t,e,n){let l;z.subscribe(_=>{n(0,l=_)});function o(){z.set({gameStarted:!1,money:5e4,startMoney:5e4,stocks:[]})}let s,u,i;function f(_){n(1,s=_)}function a(){n(2,u=s),n(1,s=void 0)}function c(){n(1,s=void 0)}function p(){n(2,u=void 0)}function m(_){n(3,i=_)}function b(){n(3,i=void 0)}return[l,s,u,i,o,f,a,c,p,m,b]}class $t extends ee{constructor(e){super();te(this,e,vt,St,le,{})}}function Bt(t){let e,n,l,o,s,u,i,f,a,c,p;return{c(){e=k("div"),n=k("h1"),n.textContent="Digital Broker",l=$(),o=k("form"),s=k("p"),s.textContent="How much money do you want to start with?",u=$(),i=k("input"),f=$(),a=k("button"),a.textContent="Start Trading!",g(n,"class","text-xl font-bold"),g(i,"type","number"),g(i,"min","0"),g(i,"class","border rounded p-1"),g(a,"type","submit"),g(e,"class","text-center m-4")},m(m,b){d(m,e,b),r(e,n),r(e,l),r(e,o),r(o,s),r(o,u),r(o,i),x(i,t[0]),r(o,f),r(o,a),c||(p=[K(i,"input",t[2]),K(o,"submit",ye(t[1]))],c=!0)},p(m,[b]){b&1&&oe(i.value)!==m[0]&&x(i,m[0])},i:J,o:J,d(m){m&&y(e),c=!1,ce(p)}}}function Pt(t,e,n){z.subscribe(u=>{});let l=5e4;function o(){z.set({gameStarted:!0,money:l,startMoney:l,stocks:[]})}function s(){l=oe(this.value),n(0,l)}return[l,o,s]}class Dt extends ee{constructor(e){super();te(this,e,Pt,Bt,le,{})}}function Mt(t){let e,n;return e=new Dt({}),{c(){Q(e.$$.fragment)},m(l,o){X(e,l,o),n=!0},i(l){n||(q(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){Z(e,l)}}}function Lt(t){let e,n;return e=new $t({}),{c(){Q(e.$$.fragment)},m(l,o){X(e,l,o),n=!0},i(l){n||(q(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){Z(e,l)}}}function At(t){let e,n,l,o,s,u;const i=[Lt,Mt],f=[];function a(c,p){return c[0].gameStarted?0:1}return n=a(t),l=f[n]=i[n](t),{c(){e=k("main"),l.c(),o=$(),s=k("footer"),s.innerHTML='<p>See the source code on <a href="https://github.com/physics3D/digital-broker" class="underline text-blue-900" target="_blank">Github</a></p>',g(s,"class","fixed left-0 right-0 bottom-0 bg-gray-400 text-black text-center")},m(c,p){d(c,e,p),f[n].m(e,null),d(c,o,p),d(c,s,p),u=!0},p(c,[p]){let m=n;n=a(c),n!==m&&(ue(),W(f[m],1,1,()=>{f[m]=null}),fe(),l=f[n],l||(l=f[n]=i[n](c),l.c()),q(l,1),l.m(e,null))},i(c){u||(q(l),u=!0)},o(c){W(l),u=!1},d(c){c&&y(e),f[n].d(),c&&y(o),c&&y(s)}}}function Nt(t,e,n){Re();let l;return z.subscribe(o=>{n(0,l=o)}),[l]}class Gt extends ee{constructor(e){super();te(this,e,Nt,At,le,{})}}new Gt({target:document.getElementById("app")});
