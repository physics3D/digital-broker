import{w as Oe,S as ee,i as te,s as le,e as k,a as C,b as d,l as K,c as re,d as y,f as qe,g as B,h as r,u as Ge,j as je,k as Ie,t as G,m as E,n as Q,o as X,p as Z,q as S,r as x,v as H,x as oe,y as ce,z as _e,A as J,B as ke,C as We,D as be,E as de,F as ye,G as ue,H as fe}from"./vendor.e83506be.js";const Ee=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&l(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}};Ee();function ge(t){return{description:t.name,symbol:t.symbol,displaySymbol:t.symbol,type:"Common Stock"}}function ne(t){return parseFloat(t.toFixed(2))}function se(t){return t<0?"-":"+"}function ie(t){return t<0?"text-red":"text-green"}let Fe="c5itmc2ad3ifq3te92jg",Te="https://finnhub.io/api/v1/",Ue="%231db954",Ve="%23222222",He="white";function Ce(t){return"https://widget.finnhub.io/widgets/stocks/chart?symbol="+t+"&watermarkColor="+Ue+"&backgroundColor="+Ve+"&textColor="+He}function he(t){let e=Te+t+"&token="+Fe;return fetch(e).then(n=>n.json())}function Ke(){return he("stock/symbol?exchange=US")}function ae(t){return he("quote?symbol="+t).then(e=>e.c)}let z;function Re(){z=Oe(JSON.parse(localStorage.getItem("gameState"))||{gameStarted:!1,money:0,stocks:[]}),z.subscribe(e=>{localStorage.setItem("gameState",JSON.stringify(e))});let t;z.subscribe(e=>t=e),setInterval(()=>{let e=t;e.stocks.forEach(n=>{ae(n.symbol).then(l=>n.currentPrice=l)}),z.set(e)},6e4)}function we(t){let e,n,l;return{c(){e=k("button"),e.textContent="x",C(e,"class","bg-white shadow-none border-none p-0 ml-auto active:bg-white")},m(o,s){d(o,e,s),n||(l=K(e,"click",function(){re(t[1])&&t[1].apply(this,arguments)}),n=!0)},p(o,s){t=o},d(o){o&&y(e),n=!1,l()}}}function Ye(t){let e,n,l,o,s,u,i=t[0]&&we(t);const f=t[4].default,c=qe(f,t,t[3],null);return{c(){e=k("div"),n=k("div"),i&&i.c(),l=B(),c&&c.c(),C(n,"class","bg-opacity-100 bg-white card flex flex-col w-11/12 h-5/6"),C(e,"class","fixed w-full h-full left-0 top-0 bg-opacity-75 bg-black flex justify-center items-center")},m(a,p){d(a,e,p),r(e,n),i&&i.m(n,null),r(n,l),c&&c.m(n,null),o=!0,s||(u=K(window,"keydown",t[2]),s=!0)},p(a,[p]){a[0]?i?i.p(a,p):(i=we(a),i.c(),i.m(n,l)):i&&(i.d(1),i=null),c&&c.p&&(!o||p&8)&&Ge(c,f,a,a[3],o?Ie(f,a[3],p,null):je(a[3]),null)},i(a){o||(G(c,a),o=!0)},o(a){E(c,a),o=!1},d(a){a&&y(e),i&&i.d(),c&&c.d(a),s=!1,u()}}}function Je(t,e,n){let{$$slots:l={},$$scope:o}=e,{closeable:s=!0}=e,{onClose:u=()=>{}}=e;function i(f){f.key==="Escape"&&u()}return t.$$set=f=>{"closeable"in f&&n(0,s=f.closeable),"onClose"in f&&n(1,u=f.onClose),"$$scope"in f&&n(3,o=f.$$scope)},[s,u,i,o,l]}class me extends ee{constructor(e){super();te(this,e,Je,Ye,le,{closeable:0,onClose:1})}}function Se(t){let e;return{c(){e=k("p"),e.textContent="You don't have enough money to buy so many stocks."},m(n,l){d(n,e,l)},d(n){n&&y(e)}}}function ze(t){let e,n=t[0].description+"",l,o,s,u,i,f,c,a,p,m,b,_,v,$,P,T,L,R,U,O,Y,N,F,I,D,q,g,j,A=t[7]&&Se();return{c(){e=k("h2"),l=S(n),o=B(),s=k("h2"),u=S("Current price: "),i=S(t[3]),f=S("$"),c=B(),A&&A.c(),a=B(),p=k("input"),b=B(),_=k("input"),$=B(),P=k("p"),T=S("Total cost: "),L=S(t[5]),R=S("$"),U=B(),O=k("p"),Y=S("Money left after the purchase: "),N=S(t[6]),F=S("$"),I=B(),D=k("button"),q=S("Buy"),C(p,"type","range"),C(p,"min","1"),C(p,"max",m=Math.floor(t[2].money/t[3])),C(_,"type","number"),C(_,"min","1"),C(_,"max",v=Math.floor(t[2].money/t[3])),D.disabled=t[7]},m(h,M){d(h,e,M),r(e,l),d(h,o,M),d(h,s,M),r(s,u),r(s,i),r(s,f),d(h,c,M),A&&A.m(h,M),d(h,a,M),d(h,p,M),x(p,t[4]),d(h,b,M),d(h,_,M),x(_,t[4]),d(h,$,M),d(h,P,M),r(P,T),r(P,L),r(P,R),d(h,U,M),d(h,O,M),r(O,Y),r(O,N),r(O,F),d(h,I,M),d(h,D,M),r(D,q),g||(j=[K(p,"change",t[9]),K(p,"input",t[9]),K(_,"input",t[10]),K(D,"click",t[8])],g=!0)},p(h,M){M&1&&n!==(n=h[0].description+"")&&H(l,n),M&8&&H(i,h[3]),h[7]?A||(A=Se(),A.c(),A.m(a.parentNode,a)):A&&(A.d(1),A=null),M&12&&m!==(m=Math.floor(h[2].money/h[3]))&&C(p,"max",m),M&16&&x(p,h[4]),M&12&&v!==(v=Math.floor(h[2].money/h[3]))&&C(_,"max",v),M&16&&oe(_.value)!==h[4]&&x(_,h[4]),M&32&&H(L,h[5]),M&64&&H(N,h[6]),M&128&&(D.disabled=h[7])},d(h){h&&y(e),h&&y(o),h&&y(s),h&&y(c),A&&A.d(h),h&&y(a),h&&y(p),h&&y(b),h&&y(_),h&&y($),h&&y(P),h&&y(U),h&&y(O),h&&y(I),h&&y(D),g=!1,ce(j)}}}function Qe(t){let e,n;return e=new me({props:{closeable:!0,onClose:t[1],$$slots:{default:[ze]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(l,o){X(e,l,o),n=!0},p(l,[o]){const s={};o&2&&(s.onClose=l[1]),o&2301&&(s.$$scope={dirty:o,ctx:l}),e.$set(s)},i(l){n||(G(e.$$.fragment,l),n=!0)},o(l){E(e.$$.fragment,l),n=!1},d(l){Z(e,l)}}}function Xe(t,e,n){let{stock:l}=e,{onBuyClose:o}=e,s;z.subscribe(_=>n(2,s=_));let u;ae(l.symbol).then(_=>n(3,u=_));let i=1,f,c,a;function p(){let _=s;_.money=ne(_.money-f),_.stocks.push({symbol:l.symbol,name:l.description,priceAtBuy:u,currentPrice:u,count:i}),z.set(_),o()}function m(){i=oe(this.value),n(4,i)}function b(){i=oe(this.value),n(4,i)}return t.$$set=_=>{"stock"in _&&n(0,l=_.stock),"onBuyClose"in _&&n(1,o=_.onBuyClose)},t.$$.update=()=>{t.$$.dirty&60&&(n(5,f=ne(i*u)),n(6,c=ne(s.money-f)),n(7,a=f>s.money))},[l,o,s,u,i,f,c,a,p,m,b]}class Ze extends ee{constructor(e){super();te(this,e,Xe,Qe,le,{stock:0,onBuyClose:1})}}function xe(t){let e,n,l,o,s,u,i;return{c(){e=k("div"),n=k("p"),n.textContent="Loading price widget...",l=B(),o=k("iframe"),C(o,"title",t[0]),_e(o.src,s=Ce(t[0]))||C(o,"src",s),C(o,"frameborder","0"),C(o,"class","flex-grow"),C(e,"class","flex flex-grow")},m(f,c){d(f,e,c),r(e,n),t[4](n),r(e,l),r(e,o),t[5](o),u||(i=K(o,"load",t[3]),u=!0)},p(f,[c]){c&1&&C(o,"title",f[0]),c&1&&!_e(o.src,s=Ce(f[0]))&&C(o,"src",s)},i:J,o:J,d(f){f&&y(e),t[4](null),t[5](null),u=!1,i()}}}function et(t,e,n){let{symbol:l}=e,o,s;function u(){n(2,s.style.display="none",s)}function i(c){ke[c?"unshift":"push"](()=>{s=c,n(2,s)})}function f(c){ke[c?"unshift":"push"](()=>{o=c,n(1,o)})}return t.$$set=c=>{"symbol"in c&&n(0,l=c.symbol)},[l,o,s,u,i,f]}class ve extends ee{constructor(e){super();te(this,e,et,xe,le,{symbol:0})}}function tt(t){let e,n=t[0].description+"",l,o,s,u,i,f,c,a,p,m,b,_,v;return s=new ve({props:{symbol:t[0].symbol}}),{c(){e=k("h2"),l=S(n),o=B(),Q(s.$$.fragment),u=B(),i=k("h2"),f=S("Current price: "),c=S(t[3]),a=S("$"),p=B(),m=k("button"),m.textContent="Buy"},m($,P){d($,e,P),r(e,l),d($,o,P),X(s,$,P),d($,u,P),d($,i,P),r(i,f),r(i,c),r(i,a),d($,p,P),d($,m,P),b=!0,_||(v=K(m,"click",function(){re(t[1])&&t[1].apply(this,arguments)}),_=!0)},p($,P){t=$,(!b||P&1)&&n!==(n=t[0].description+"")&&H(l,n);const T={};P&1&&(T.symbol=t[0].symbol),s.$set(T),(!b||P&8)&&H(c,t[3])},i($){b||(G(s.$$.fragment,$),b=!0)},o($){E(s.$$.fragment,$),b=!1},d($){$&&y(e),$&&y(o),Z(s,$),$&&y(u),$&&y(i),$&&y(p),$&&y(m),_=!1,v()}}}function lt(t){let e,n;return e=new me({props:{closeable:!0,onClose:t[2],$$slots:{default:[tt]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(l,o){X(e,l,o),n=!0},p(l,[o]){const s={};o&4&&(s.onClose=l[2]),o&27&&(s.$$scope={dirty:o,ctx:l}),e.$set(s)},i(l){n||(G(e.$$.fragment,l),n=!0)},o(l){E(e.$$.fragment,l),n=!1},d(l){Z(e,l)}}}function nt(t,e,n){let{stock:l}=e,{onClickBuy:o}=e,{onDetailClose:s}=e,u;return ae(l.symbol).then(i=>n(3,u=i)),t.$$set=i=>{"stock"in i&&n(0,l=i.stock),"onClickBuy"in i&&n(1,o=i.onClickBuy),"onDetailClose"in i&&n(2,s=i.onDetailClose)},[l,o,s,u]}class ot extends ee{constructor(e){super();te(this,e,nt,lt,le,{stock:0,onClickBuy:1,onDetailClose:2})}}function $e(t,e,n){const l=t.slice();return l[6]=e[n],l}function st(t){let e;return{c(){e=k("p"),e.textContent="Failed. Please check your internet connection."},m(n,l){d(n,e,l)},d(n){n&&y(e)}}}function it(t){return{c:J,m:J,d:J}}function ut(t){let e;return{c(){e=k("p"),e.textContent="Downloading a list of available stocks..."},m(n,l){d(n,e,l)},d(n){n&&y(e)}}}function Be(t){let e,n,l,o=t[6].description+"",s,u,i=t[6].symbol+"",f,c,a,p,m;return{c(){e=k("tr"),n=k("td"),l=k("button"),s=S(o),u=S(" ("),f=S(i),c=S(")"),a=B(),C(l,"class","bg-white shadow-none border-none m-auto p-0 active:bg-white")},m(b,_){d(b,e,_),r(e,n),r(n,l),r(l,s),r(l,u),r(l,f),r(l,c),r(e,a),p||(m=K(l,"click",function(){re(t[0](t[6]))&&t[0](t[6]).apply(this,arguments)}),p=!0)},p(b,_){t=b,_&4&&o!==(o=t[6].description+"")&&H(s,o),_&4&&i!==(i=t[6].symbol+"")&&H(f,i)},d(b){b&&y(e),p=!1,m()}}}function ft(t){let e,n,l,o,s,u,i,f,c,a={ctx:t,current:null,token:null,hasCatch:!0,pending:ut,then:it,catch:st};We(t[3],a);let p=t[2],m=[];for(let b=0;b<p.length;b+=1)m[b]=Be($e(t,p,b));return{c(){e=k("div"),n=k("h2"),n.textContent="Buy stocks:",l=B(),o=k("input"),s=B(),a.block.c(),u=B(),i=k("table");for(let b=0;b<m.length;b+=1)m[b].c();C(o,"type","text"),C(o,"placeholder","Search for stocks"),C(e,"class","card")},m(b,_){d(b,e,_),r(e,n),r(e,l),r(e,o),x(o,t[1]),r(e,s),a.block.m(e,a.anchor=null),a.mount=()=>e,a.anchor=u,r(e,u),r(e,i);for(let v=0;v<m.length;v+=1)m[v].m(i,null);f||(c=K(o,"input",t[5]),f=!0)},p(b,[_]){if(t=b,_&2&&o.value!==t[1]&&x(o,t[1]),_&5){p=t[2];let v;for(v=0;v<p.length;v+=1){const $=$e(t,p,v);m[v]?m[v].p($,_):(m[v]=Be($),m[v].c(),m[v].m(i,null))}for(;v<m.length;v+=1)m[v].d(1);m.length=p.length}},i:J,o:J,d(b){b&&y(e),a.block.d(),a.token=null,a=null,be(m,b),f=!1,c()}}}function rt(t,e,n){let{onClickStock:l}=e,o=[],s=Ke().then(c=>{n(4,o=c)}),u="",i;function f(){u=this.value,n(1,u),n(4,o),n(2,i)}return t.$$set=c=>{"onClickStock"in c&&n(0,l=c.onClickStock)},t.$$.update=()=>{t.$$.dirty&22&&(n(1,u=u.toUpperCase()),n(2,i=o.filter(c=>c.description.startsWith(u)||c.symbol.startsWith(u))),i.length>10&&n(2,i.length=10,i))},[l,u,i,s,o,f]}class ct extends ee{constructor(e){super();te(this,e,rt,ft,le,{onClickStock:0})}}function at(t){let e,n,l=t[0].count+"",o,s,u=t[0].name+"",i,f,c,a=t[0].currentPrice+"",p,m,b,_,v,$=se(t[3])+t[3]+"",P,T,L,R,U,O=se(t[4])+t[4]+"",Y,N,F,I,D,q,g,j,A,h;return{c(){e=k("div"),n=k("p"),o=S(l),s=S("x "),i=S(u),f=B(),c=k("p"),p=S(a),m=S("$"),b=B(),_=k("div"),v=k("p"),P=S($),T=S("$"),R=B(),U=k("p"),Y=S(O),N=S("%"),I=B(),D=k("div"),q=k("button"),q.textContent="Details",g=B(),j=k("button"),j.textContent="Sell",C(v,"class",L="m-1 p-1 "+ie(t[3])),C(U,"class",F="m-1 p-1 "+ie(t[4])),C(_,"class","flex flex-row justify-center"),C(D,"class","flex flex-row"),C(e,"class","shadow-lg border rounded-lg p-3 m-3 inline-flex flex-col items-center")},m(M,V){d(M,e,V),r(e,n),r(n,o),r(n,s),r(n,i),r(e,f),r(e,c),r(c,p),r(c,m),r(e,b),r(e,_),r(_,v),r(v,P),r(v,T),r(_,R),r(_,U),r(U,Y),r(U,N),r(e,I),r(e,D),r(D,q),r(D,g),r(D,j),A||(h=[K(q,"click",function(){re(t[2](ge(t[0])))&&t[2](ge(t[0])).apply(this,arguments)}),K(j,"click",function(){re(t[1](t[0]))&&t[1](t[0]).apply(this,arguments)})],A=!0)},p(M,[V]){t=M,V&1&&l!==(l=t[0].count+"")&&H(o,l),V&1&&u!==(u=t[0].name+"")&&H(i,u),V&1&&a!==(a=t[0].currentPrice+"")&&H(p,a),V&8&&$!==($=se(t[3])+t[3]+"")&&H(P,$),V&8&&L!==(L="m-1 p-1 "+ie(t[3]))&&C(v,"class",L),V&16&&O!==(O=se(t[4])+t[4]+"")&&H(Y,O),V&16&&F!==(F="m-1 p-1 "+ie(t[4]))&&C(U,"class",F)},i:J,o:J,d(M){M&&y(e),A=!1,ce(h)}}}function mt(t,e,n){let{stock:l}=e,{onClickSell:o}=e,{onClickDetails:s}=e,u,i;return t.$$set=f=>{"stock"in f&&n(0,l=f.stock),"onClickSell"in f&&n(1,o=f.onClickSell),"onClickDetails"in f&&n(2,s=f.onClickDetails)},t.$$.update=()=>{t.$$.dirty&9&&(n(3,u=ne(l.currentPrice-l.priceAtBuy)),n(4,i=ne(u/l.priceAtBuy*100)))},[l,o,s,u,i]}class pt extends ee{constructor(e){super();te(this,e,mt,at,le,{stock:0,onClickSell:1,onClickDetails:2})}}function Pe(t){let e;return{c(){e=k("p"),e.textContent="You don't have so many stocks!"},m(n,l){d(n,e,l)},d(n){n&&y(e)}}}function _t(t){let e,n=t[0].name+"",l,o,s,u,i,f,c=t[0].priceAtBuy+"",a,p,m,b,_=t[0].currentPrice+"",v,$,P,T,L,R,U,O,Y,N,F,I,D,q,g,j,A,h,M;s=new ve({props:{symbol:t[0].symbol}});let V=t[4]&&Pe();return{c(){e=k("h2"),l=S(n),o=B(),Q(s.$$.fragment),u=B(),i=k("p"),f=S("Price at buy: "),a=S(c),p=B(),m=k("p"),b=S("Current price: "),v=S(_),$=S("$"),P=B(),V&&V.c(),T=B(),L=k("input"),U=B(),O=k("input"),N=B(),F=k("p"),I=S("Money after the sell: "),D=S(t[3]),q=B(),g=k("button"),j=S("Sell"),C(L,"type","range"),C(L,"min","1"),C(L,"max",R=t[0].count),C(O,"type","number"),C(O,"min","1"),C(O,"max",Y=t[0].count),g.disabled=t[4]},m(w,W){d(w,e,W),r(e,l),d(w,o,W),X(s,w,W),d(w,u,W),d(w,i,W),r(i,f),r(i,a),d(w,p,W),d(w,m,W),r(m,b),r(m,v),r(m,$),d(w,P,W),V&&V.m(w,W),d(w,T,W),d(w,L,W),x(L,t[2]),d(w,U,W),d(w,O,W),x(O,t[2]),d(w,N,W),d(w,F,W),r(F,I),r(F,D),d(w,q,W),d(w,g,W),r(g,j),A=!0,h||(M=[K(L,"change",t[7]),K(L,"input",t[7]),K(O,"input",t[8]),K(g,"click",t[5])],h=!0)},p(w,W){(!A||W&1)&&n!==(n=w[0].name+"")&&H(l,n);const pe={};W&1&&(pe.symbol=w[0].symbol),s.$set(pe),(!A||W&1)&&c!==(c=w[0].priceAtBuy+"")&&H(a,c),(!A||W&1)&&_!==(_=w[0].currentPrice+"")&&H(v,_),w[4]?V||(V=Pe(),V.c(),V.m(T.parentNode,T)):V&&(V.d(1),V=null),(!A||W&1&&R!==(R=w[0].count))&&C(L,"max",R),W&4&&x(L,w[2]),(!A||W&1&&Y!==(Y=w[0].count))&&C(O,"max",Y),W&4&&oe(O.value)!==w[2]&&x(O,w[2]),(!A||W&8)&&H(D,w[3]),(!A||W&16)&&(g.disabled=w[4])},i(w){A||(G(s.$$.fragment,w),A=!0)},o(w){E(s.$$.fragment,w),A=!1},d(w){w&&y(e),w&&y(o),Z(s,w),w&&y(u),w&&y(i),w&&y(p),w&&y(m),w&&y(P),V&&V.d(w),w&&y(T),w&&y(L),w&&y(U),w&&y(O),w&&y(N),w&&y(F),w&&y(q),w&&y(g),h=!1,ce(M)}}}function kt(t){let e,n;return e=new me({props:{closeable:!0,onClose:t[1],$$slots:{default:[_t]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(l,o){X(e,l,o),n=!0},p(l,[o]){const s={};o&2&&(s.onClose=l[1]),o&541&&(s.$$scope={dirty:o,ctx:l}),e.$set(s)},i(l){n||(G(e.$$.fragment,l),n=!0)},o(l){E(e.$$.fragment,l),n=!1},d(l){Z(e,l)}}}function bt(t,e,n){let{stock:l}=e,{onSellClose:o}=e,s;z.subscribe(m=>n(6,s=m));let u=1,i,f;function c(){let m=s;m.money=ne(m.money+u*l.currentPrice),l.count===u?m.stocks.splice(m.stocks.indexOf(l),1):m.stocks[m.stocks.indexOf(l)].count-=u,z.set(m),o()}function a(){u=oe(this.value),n(2,u)}function p(){u=oe(this.value),n(2,u)}return t.$$set=m=>{"stock"in m&&n(0,l=m.stock),"onSellClose"in m&&n(1,o=m.onSellClose)},t.$$.update=()=>{t.$$.dirty&69&&(n(4,f=u>l.count),n(3,i=ne(s.money+u*l.currentPrice)))},[l,o,u,i,f,c,s,a,p]}class dt extends ee{constructor(e){super();te(this,e,bt,kt,le,{stock:0,onSellClose:1})}}function yt(t){let e,n,l,o,s,u,i,f=se(t[2])+t[2]+"",c,a,p,m,b,_=se(t[3])+t[3]+"",v,$,P,T,L,R,U=t[0].money+"",O,Y;return{c(){e=k("div"),n=k("h1"),l=S(t[1]),o=S("$"),s=B(),u=k("div"),i=k("h2"),c=S(f),a=S("$"),m=B(),b=k("h2"),v=S(_),$=S("%"),T=B(),L=k("p"),R=S("Capital: "),O=S(U),Y=S("$"),C(n,"class","text-center text-4xl font-light"),C(i,"class",p=ie(t[2])),C(b,"class",P=ie(t[3])),C(u,"class","flex flex-row justify-center"),C(L,"class","text-center text-xl font-light")},m(N,F){d(N,e,F),r(e,n),r(n,l),r(n,o),r(e,s),r(e,u),r(u,i),r(i,c),r(i,a),r(u,m),r(u,b),r(b,v),r(b,$),r(e,T),r(e,L),r(L,R),r(L,O),r(L,Y)},p(N,[F]){F&2&&H(l,N[1]),F&4&&f!==(f=se(N[2])+N[2]+"")&&H(c,f),F&4&&p!==(p=ie(N[2]))&&C(i,"class",p),F&8&&_!==(_=se(N[3])+N[3]+"")&&H(v,_),F&8&&P!==(P=ie(N[3]))&&C(b,"class",P),F&1&&U!==(U=N[0].money+"")&&H(O,U)},i:J,o:J,d(N){N&&y(e)}}}function gt(t,e,n){let l,o,s,u;return z.subscribe(i=>n(0,l=i)),t.$$.update=()=>{t.$$.dirty&7&&(n(1,o=l.money+l.stocks.map(i=>i.currentPrice*i.count).reduce((i,f)=>i+f,0)),n(1,o=ne(o)),n(2,s=ne(o-l.startMoney)),n(3,u=ne(s/l.startMoney*100)))},[l,o,s,u]}class Ct extends ee{constructor(e){super();te(this,e,gt,yt,le,{})}}function De(t,e,n){const l=t.slice();return l[11]=e[n],l}function ht(t){let e;return{c(){e=k("p"),e.textContent="You haven't bought any stocks yet."},m(n,l){d(n,e,l)},p:J,i:J,o:J,d(n){n&&y(e)}}}function wt(t){let e,n,l=t[0].stocks,o=[];for(let u=0;u<l.length;u+=1)o[u]=Me(De(t,l,u));const s=u=>E(o[u],1,1,()=>{o[u]=null});return{c(){for(let u=0;u<o.length;u+=1)o[u].c();e=de()},m(u,i){for(let f=0;f<o.length;f+=1)o[f].m(u,i);d(u,e,i),n=!0},p(u,i){if(i&545){l=u[0].stocks;let f;for(f=0;f<l.length;f+=1){const c=De(u,l,f);o[f]?(o[f].p(c,i),G(o[f],1)):(o[f]=Me(c),o[f].c(),G(o[f],1),o[f].m(e.parentNode,e))}for(ue(),f=l.length;f<o.length;f+=1)s(f);fe()}},i(u){if(!n){for(let i=0;i<l.length;i+=1)G(o[i]);n=!0}},o(u){o=o.filter(Boolean);for(let i=0;i<o.length;i+=1)E(o[i]);n=!1},d(u){be(o,u),u&&y(e)}}}function Me(t){let e,n;return e=new pt({props:{stock:t[11],onClickSell:t[9],onClickDetails:t[5]}}),{c(){Q(e.$$.fragment)},m(l,o){X(e,l,o),n=!0},p(l,o){const s={};o&1&&(s.stock=l[11]),e.$set(s)},i(l){n||(G(e.$$.fragment,l),n=!0)},o(l){E(e.$$.fragment,l),n=!1},d(l){Z(e,l)}}}function Le(t){let e,n;return e=new ot({props:{stock:t[1],onClickBuy:t[6],onDetailClose:t[7]}}),{c(){Q(e.$$.fragment)},m(l,o){X(e,l,o),n=!0},p(l,o){const s={};o&2&&(s.stock=l[1]),e.$set(s)},i(l){n||(G(e.$$.fragment,l),n=!0)},o(l){E(e.$$.fragment,l),n=!1},d(l){Z(e,l)}}}function Ae(t){let e,n;return e=new Ze({props:{stock:t[2],onBuyClose:t[8]}}),{c(){Q(e.$$.fragment)},m(l,o){X(e,l,o),n=!0},p(l,o){const s={};o&4&&(s.stock=l[2]),e.$set(s)},i(l){n||(G(e.$$.fragment,l),n=!0)},o(l){E(e.$$.fragment,l),n=!1},d(l){Z(e,l)}}}function Ne(t){let e,n;return e=new dt({props:{stock:t[3],onSellClose:t[10]}}),{c(){Q(e.$$.fragment)},m(l,o){X(e,l,o),n=!0},p(l,o){const s={};o&8&&(s.stock=l[3]),e.$set(s)},i(l){n||(G(e.$$.fragment,l),n=!0)},o(l){E(e.$$.fragment,l),n=!1},d(l){Z(e,l)}}}function St(t){let e,n,l,o,s,u,i,f,c,a,p,m,b,_,v,$,P,T,L,R,U,O;s=new Ct({});const Y=[wt,ht],N=[];function F(g,j){return g[0].stocks.length>0?0:1}a=F(t),p=N[a]=Y[a](t),b=new ct({props:{onClickStock:t[5]}});let I=t[1]!==void 0&&Le(t),D=t[2]!==void 0&&Ae(t),q=t[3]!==void 0&&Ne(t);return{c(){e=k("div"),n=k("h1"),n.textContent="Digital Broker",l=B(),o=k("div"),Q(s.$$.fragment),u=B(),i=k("h2"),i.textContent="Stocks:",f=B(),c=k("div"),p.c(),m=B(),Q(b.$$.fragment),_=B(),v=k("form"),v.innerHTML='<button type="submit">Reset the Game</button>',$=B(),I&&I.c(),P=B(),D&&D.c(),T=B(),q&&q.c(),L=de(),C(n,"class","text-center text-4xl font-light m-2"),C(c,"class","flex flex-col lg:flex-row lg:flex-wrap"),C(o,"class","card"),C(e,"class","flex flex-col items-center")},m(g,j){d(g,e,j),r(e,n),r(e,l),r(e,o),X(s,o,null),r(o,u),r(o,i),r(o,f),r(o,c),N[a].m(c,null),r(e,m),X(b,e,null),r(e,_),r(e,v),d(g,$,j),I&&I.m(g,j),d(g,P,j),D&&D.m(g,j),d(g,T,j),q&&q.m(g,j),d(g,L,j),R=!0,U||(O=K(v,"submit",ye(t[4])),U=!0)},p(g,[j]){let A=a;a=F(g),a===A?N[a].p(g,j):(ue(),E(N[A],1,1,()=>{N[A]=null}),fe(),p=N[a],p?p.p(g,j):(p=N[a]=Y[a](g),p.c()),G(p,1),p.m(c,null)),g[1]!==void 0?I?(I.p(g,j),j&2&&G(I,1)):(I=Le(g),I.c(),G(I,1),I.m(P.parentNode,P)):I&&(ue(),E(I,1,1,()=>{I=null}),fe()),g[2]!==void 0?D?(D.p(g,j),j&4&&G(D,1)):(D=Ae(g),D.c(),G(D,1),D.m(T.parentNode,T)):D&&(ue(),E(D,1,1,()=>{D=null}),fe()),g[3]!==void 0?q?(q.p(g,j),j&8&&G(q,1)):(q=Ne(g),q.c(),G(q,1),q.m(L.parentNode,L)):q&&(ue(),E(q,1,1,()=>{q=null}),fe())},i(g){R||(G(s.$$.fragment,g),G(p),G(b.$$.fragment,g),G(I),G(D),G(q),R=!0)},o(g){E(s.$$.fragment,g),E(p),E(b.$$.fragment,g),E(I),E(D),E(q),R=!1},d(g){g&&y(e),Z(s),N[a].d(),Z(b),g&&y($),I&&I.d(g),g&&y(P),D&&D.d(g),g&&y(T),q&&q.d(g),g&&y(L),U=!1,O()}}}function vt(t,e,n){let l;z.subscribe(_=>{n(0,l=_)});function o(){z.set({gameStarted:!1,money:5e4,startMoney:5e4,stocks:[]})}let s,u,i;function f(_){n(1,s=_)}function c(){n(2,u=s),n(1,s=void 0)}function a(){n(1,s=void 0)}function p(){n(2,u=void 0)}function m(_){n(3,i=_)}function b(){n(3,i=void 0)}return[l,s,u,i,o,f,c,a,p,m,b]}class $t extends ee{constructor(e){super();te(this,e,vt,St,le,{})}}function Bt(t){let e,n,l,o,s,u,i,f,c,a,p;return{c(){e=k("div"),n=k("h1"),n.textContent="Digital Broker",l=B(),o=k("form"),s=k("p"),s.textContent="How much money do you want to start with?",u=B(),i=k("input"),f=B(),c=k("button"),c.textContent="Start Trading!",C(n,"class","text-xl font-bold"),C(i,"type","number"),C(i,"min","0"),C(i,"class","border rounded p-1"),C(c,"type","submit"),C(e,"class","text-center m-4")},m(m,b){d(m,e,b),r(e,n),r(e,l),r(e,o),r(o,s),r(o,u),r(o,i),x(i,t[0]),r(o,f),r(o,c),a||(p=[K(i,"input",t[2]),K(o,"submit",ye(t[1]))],a=!0)},p(m,[b]){b&1&&oe(i.value)!==m[0]&&x(i,m[0])},i:J,o:J,d(m){m&&y(e),a=!1,ce(p)}}}function Pt(t,e,n){z.subscribe(u=>{});let l=5e4;function o(){z.set({gameStarted:!0,money:l,startMoney:l,stocks:[]})}function s(){l=oe(this.value),n(0,l)}return[l,o,s]}class Dt extends ee{constructor(e){super();te(this,e,Pt,Bt,le,{})}}function Mt(t){let e,n;return e=new Dt({}),{c(){Q(e.$$.fragment)},m(l,o){X(e,l,o),n=!0},i(l){n||(G(e.$$.fragment,l),n=!0)},o(l){E(e.$$.fragment,l),n=!1},d(l){Z(e,l)}}}function Lt(t){let e,n;return e=new $t({}),{c(){Q(e.$$.fragment)},m(l,o){X(e,l,o),n=!0},i(l){n||(G(e.$$.fragment,l),n=!0)},o(l){E(e.$$.fragment,l),n=!1},d(l){Z(e,l)}}}function At(t){let e,n,l,o;const s=[Lt,Mt],u=[];function i(f,c){return f[0].gameStarted?0:1}return n=i(t),l=u[n]=s[n](t),{c(){e=k("main"),l.c()},m(f,c){d(f,e,c),u[n].m(e,null),o=!0},p(f,[c]){let a=n;n=i(f),n!==a&&(ue(),E(u[a],1,1,()=>{u[a]=null}),fe(),l=u[n],l||(l=u[n]=s[n](f),l.c()),G(l,1),l.m(e,null))},i(f){o||(G(l),o=!0)},o(f){E(l),o=!1},d(f){f&&y(e),u[n].d()}}}function Nt(t,e,n){Re();let l;return z.subscribe(o=>{n(0,l=o)}),[l]}class Ot extends ee{constructor(e){super();te(this,e,Nt,At,le,{})}}new Ot({target:document.getElementById("app")});
